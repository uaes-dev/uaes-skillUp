<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Profile</title>
    <link rel="stylesheet" href="student-profile.css">
</head>
<body>

    <div class="container">
        <h2>Student Profile</h2>

        <div id="student-info">
            <img id="passport-photo" src="" alt="Passport Photo" style="width: 100px; height: 100px; border-radius: 5px; display: none;">
            <p><strong>Full Name:</strong> <span id="full-name"></span></p>
            <p><strong>Email:</strong> <span id="email"></span></p>
            <p><strong>Matric Number:</strong> <span id="matric"></span></p>
            <p><strong>Department:</strong> <span id="department"></span></p>
            <p><strong>Level:</strong> <span id="level"></span></p>
            <p><strong>Selected Skills:</strong> <span id="skills"></span></p>
        </div>

        <button onclick="printDetails()">üñ®Ô∏è Print Profile</button>
        <button onclick="goBack()">‚¨Ö Back to Dashboard</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const studentData = JSON.parse(localStorage.getItem("loggedInStudent"));

            if (studentData) {
                document.getElementById("full-name").textContent = studentData.fullName || "N/A";
                document.getElementById("email").textContent = studentData.email || "N/A";
                document.getElementById("matric").textContent = studentData.matric || "N/A";
                document.getElementById("department").textContent = studentData.department || "N/A";
                document.getElementById("level").textContent = studentData.level || "N/A";
                document.getElementById("skills").textContent = studentData.skills ? studentData.skills.join(", ") : "N/A";

                if (studentData.passport) {
                    const passportPhoto = document.getElementById("passport-photo");
                    passportPhoto.src = studentData.passport;
                    passportPhoto.style.display = "block";
                }
            } else {
                alert("No student data found! Redirecting to registration...");
                window.location.href = "student-login.html";
            }
        });

        function printDetails() {
            window.print();
        }

        function goBack() {
            window.location.href = "student-dashboard.html"; // Redirects back to the student dashboard
        }
    </script>

</body>
</html>
